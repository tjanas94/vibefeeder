package view

import "github.com/tjanas94/vibefeeder/internal/shared/assets"

// Layout renders the base HTML structure for all pages.
// Pages are responsible for rendering their own navigation components.
templ Layout(props LayoutProps) {
	<!DOCTYPE html>
	<html lang="en">
		<head>
			<meta charset="UTF-8"/>
			<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
			<title>{ props.Title }</title>
			<meta name="description" content="RSS feed reader with AI-powered summaries"/>
			<link rel="icon" href="/favicon.ico" sizes="32x32"/>
			<link rel="icon" href="/icon.svg" type="image/svg+xml"/>
			<link rel="apple-touch-icon" href="/apple-touch-icon.png"/>
			<link rel="stylesheet" href={ assets.URL("/static/css/main.css") }/>
			<script defer src={ assets.URL("/static/js/htmx.min.js") }></script>
			<script defer src={ assets.URL("/static/js/alpine.min.js") }></script>
			<meta name="htmx-config" content='{"responseHandling":[{"code":"204", "swap": false},{"code":"[23]..", "swap": true},{"code":"[45]..", "swap": true, "error":true},{"code":"...", "swap": false}]}'/>
		</head>
		<body class="min-h-screen bg-base-100">
			<a href="#main-content" class="skip-link absolute left-[-999px] focus:left-4 top-4 bg-base-200 px-4 py-2 rounded shadow z-[100]">
				Pomiń nawigację
			</a>
			<!-- Global HTMX Error Container -->
			<div
				id="global-errors"
				class="fixed bottom-4 left-1/2 -translate-x-1/2 sm:top-4 sm:right-4 sm:left-auto sm:translate-x-0 z-[9999] space-y-2 max-w-md w-full px-4 sm:px-0 sm:w-auto pointer-events-none"
				role="alert"
				aria-live="assertive"
				aria-atomic="true"
			></div>
			<!-- Toast Notifications Container -->
			<div
				id="toast-container"
				class="fixed bottom-4 left-1/2 -translate-x-1/2 sm:top-4 sm:right-4 sm:left-auto sm:translate-x-0 z-[9999] space-y-2 max-w-md w-full px-4 sm:px-0 sm:w-auto pointer-events-none"
				role="status"
				aria-live="polite"
				aria-atomic="false"
			></div>
			{ children... }
		</body>
	</html>
}
